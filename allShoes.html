<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="//code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
        <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
        <script src="jquery.js"></script>
        <script src="shoes.json"></script>
        <script src="save.js"></script>
        <link rel="stylesheet" href="aboutstyle.css">
        <title>Document</title>
      </head>
      
      <body>
        <header class="container">
          <div><img src="logo.jpg" alt="WLogo" width="100" height="100" id="logo"></div>
          <div id="company">Westminster Shoe Shop </div>
        </header>
        <nav class="navigation">
          <ul>
            <li><a href="main.html">MAIN</a></li>
            <li><a href="allShoes.html">BUY</a></li>
          </ul>
        </nav>
        <button onclick="deleteItem()" style="margin: 10px 25%;">Delete Favourite item</button>
        <button onclick="myFunction()" style="margin: 10px 45%;">View Favourites</button>
        <p id="space"></p>
        <div class="aside" id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="container-fluid">
            <div class="container-fluid">    
              <div class="row" style="border: 2px solid black;margin-top: 10px;">
                <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe1.html"><img id="img1" class="shoes" draggable="true" ondragstart="drag(event)" src="images/flat1.jpeg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
                <div class="col-sm"><p id="shoeOne" style="padding: 180px 50px;"></p></div>
               </div>
              </div>
            </div> 
        <div class="container-fluid">
            <div class="container-fluid">    
              <div class="row" style="border: 2px solid black;margin-top: 10px;">
              <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe2.html"><img id="img1" draggable="true" ondragstart="drag(event)" class="shoes" src="images/boot1.jpeg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
              <div class="col-sm"><p id="shoeTwo" style="padding: 180px 50px;"></p></div>
       </div>
     </div>
        </div> 
         <div class="container-fluid">
           <div class="container-fluid">    
            <div class="row" style="border: 2px solid black;margin-top: 10px;">
           <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe3.html"><img id="img1" draggable="true" ondragstart="drag(event)" class="shoes" src="images/shoe1.jpg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
             <div class="col-sm"><p id="shoeThree" style="padding: 180px 50px;"></p></div>
              </div>
             </div>
         </div>         
        <div class="container-fluid">
         <div class="container-fluid">    
            <div class="row" style="border: 2px solid black;margin-top: 10px;">
           <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe4.html"><img id="img1" draggable="true" ondragstart="drag(event)" class="shoes" src="images/sneaker1.jpeg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
            <div class="col-sm"><p id="shoeFour" style="padding: 180px 50px;"></p></div>
      </div>
     </div>
     </div> 
       <div class="container-fluid">
           <div class="container-fluid">    
             <div class="row" style="border: 2px solid black;margin-top: 10px;">
             <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe5.html"><img id="img1" class="shoes" src="images/spike1.jpeg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
             <div class="col-sm"><p id="shoeFive" style="padding: 180px 50px;"></p></div>
     </div>
      </div>
       </div> 
     <div class="container-fluid">
         <div class="container-fluid">    
            <div class="row" style="border: 2px solid black;margin-top: 10px;">
            <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe6.html"><img id="img1" draggable="true" ondragstart="drag(event)" class="shoes" src="images/sandal1.jpeg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
            <div class="col-sm"><p id="shoeSix" style="padding: 180px 50px;"></p></div>
       </div>
     </div>
   </div> 
     <div class="container-fluid">
          <div class="container-fluid">    
           <div class="row" style="border: 2px solid black;margin-top: 10px;">
            <div class="col-sm" ondrop="drop(event)" ondragover="allowDrop(event)"><a href="shoe7.html"><img id="img1" draggable="true" ondragstart="drag(event)" class="shoes" src="images/smart1.jpeg" alt="" width="40%" height="300" style="margin-left:150px;"></a></div>
            <div class="col-sm"><p id="shoeSeven" style="padding: 180px 50px;"></p></div>
          </div>
         </div>
      </div> 

   
        <footer class="final">
            <div><img src="logo.jpg" alt="dogLogo" width="100" height="100"></div>
            <div>
              <section class="details">
                <p>Address: 34.343 Sunflower Road, Maria Country</p>
                <p>&emsp; Telephone: 0345 - 3478374 , 093 - 3433445</p>
              </section>
            </div>
            <div id="social"><a href="https://www.facebook.com/">Facebook</a>
              <a href="https://www.linkedin.com/">Linkedin</a>
              <a href="https://www.instagram.com/">Instagram</a>
            </div>
          </footer>
        <script>
          function allowDrop(ev) {
            ev.preventDefault();
            }

          function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
            }

          function drop(ev) {
            $(document).ready(function(){
          try{
          // $("#img1").attr('disabled',true);
          var shoeToAdd = $("#img1").closest().attr("href");
          var favouritShoeId = JSON.parse(localStorage.getItem("favShoe"));
          if(favouritShoeId == null){
            favouritShoeId = [];
          }
          favouritShoeId.push(shoeToAdd);
          localStorage.setItem("favShoe",JSON.stringify(favouritShoeId));
        }
        catch(e){
          if(e == QUOTA_EXCEEDED_ERR){
            console.log("Error local storage limit exceeded")
          }
          else{
            console.log("Saving to local storage")
          }
        }
      });
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            ev.target.appendChild(document.getElementById(data));
            }
            $(document).ready(function(){
                $.getJSON("shoes.json", function(data){
                    $("#shoeOne").text(data.shoes[0].description);
                    $("#shoeTwo").text(data.shoes[1].description);
                    $("#shoeThree").text(data.shoes[2].description);
                    $("#shoeFour").text(data.shoes[3].description);
                    $("#shoeFive").text(data.shoes[4].description);
                    $("#shoeSix").text(data.shoes[5].description);
                    $("#shoeSeven").text(data.shoes[6].description);
            }).fail(function(){
                console.log("An error has occurred.");
            });
            function deleteItem() {
            localStorage.removeItem("favShoe");
             };

             function myFunction() {
             var x = localStorage.getItem("favShoe");
             var y = JSON.parse(x);
              document.getElementById("space").innerHTML = y;
}
                  
     });
        </script>
        
</body>
</html>